@model ODHDEVELOPERS.Models.Emp_Reg
@{
    Layout = "~/Views/Shared/_HRLayout.cshtml";
    ViewBag.Title = "EmployeeLeave";
}

@*<script type="text/javascript">
    $(document).ready(function () {
        $("#empid").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: "/Operator/AutoCompleteEid",
                    type: "POST",
                    dataType: "json",
                    data: { term: request.term },
                    success: function (data) {
                        response($.map(data, function (item) {
                            return { label: item.name, value: item.empid };


                        }))

                    }
                })
            },
            messages: {
                noResults: "", results: ""
            }
        });
    })
</script>*@



<div class="container mt-5 FormContainer">
    <h2 class="text-center mb-4">Employee Leave Application</h2>
    <form id="leaveForm" method="post" action="~/Operator/EmployeeLeave" class="border p-4 rounded shadow formtag">

        <!-- Employee Id or Name -->
        <div class="mb-3">
            <label class="form-label formLabel">Employee Id or Name</label>
            <input type="text" name="empid" id="empid" class="form-control formInput" placeholder="Enter Employee Id or Name" required>
        </div>

        <!-- Leave Type -->
        <div class="mb-3">
            <label class="form-label formLabel">Enter Leave Type</label>
            <input type="text" name="leavetype" id="leavetype" class="form-control formInput" placeholder="Enter Leave Type" required>
        </div>

        <!-- Reason -->
        <div class="mb-3">
            <label class="form-label formLabel">Enter Reason</label>
            <input type="text" name="reason" id="reason" class="form-control formInput" placeholder="Enter Reason for Leave" required>
        </div>

        <!-- Start Date -->
        <div class="mb-3">
            <label class="form-label formLabel">Select Start Date</label>
            <input type="date" name="sdate" id="sdate" class="form-control formInput" required>
        </div>

        <!-- End Date -->
        <div class="mb-3">
            <label class="form-label formLabel">Select End Date</label>
            <input type="date" name="edate" id="edate" class="form-control formInput" required>
        </div>

        <!-- Hidden Status Field -->
        <input type="hidden" name="status" id="status" value="0" />

        <!-- Submit Button -->
        <div class="text-center d-grid gap-2">
            <button value="Add" type="submit" name="submitbtn" class="btn btn-lg formButtom btn-primary">
                Send Request
            </button>
        </div>

        <!-- Message Display -->
        <div class="mt-3">
            <h3 class="text-center text-primary">@ViewBag.msg</h3>
        </div>

    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $("#empid").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: "/Operator/AutoCompleteEid",
                    type: "POST",
                    dataType: "json",
                    data: { term: request.term },
                    success: function (data) {
                        response($.map(data, function (item) {
                            return { label: item.name, value: item.empid };
                        }));
                    }
                });
            },
            messages: {
                noResults: "", results: ""
            }
        });
    });
</script>


