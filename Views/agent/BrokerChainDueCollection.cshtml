@model IEnumerable<ODHDEVELOPERS.Models.ChaindueCollection>
    @using ODHDEVELOPERS.Models;
    @{
        Layout = "~/Views/Shared/_AgentLayout.cshtml";
        ViewBag.Title = "BrokerChainDueCollection";

        UsersContext db = new UsersContext();
        var mr = db.Members.Single(m => m.Id == 1);
        var a = 0;

    }

                      <div class="page-content">

                          <!-- Print Button  -->

                          @if (mr != null)
                          {
                              <div class="d-flex justify-content-between align-items-center mt-3 mb-4">
                                  <button class="btn btn-primary px-4 py-2" onclick="PrintMe('divid')">
                                      <i class="fas fa-print"></i> Get PDF Report
                                  </button>
                                  <div>
                                  </div>
                              </div>


                              //Genarate pdf Report by using crystal Report
                              <!--<div class="d-flex justify-content-between align-items-center mt-3 mb-4">-->
                              <!-- Print Button -->
                              <!--<a href="@Url.Action("PrintBrokerChainDueReport")" target="_blank" class="btn btn-primary px-4 py-2">
                             <i class="fas fa-print"></i> Get Report In PDF
                                </a>
                               </div>-->


                          }



                          <div class="d-flex justify-content-between align-items-center mt-3 mb-4">
                                
                              <div class="container mt-4 FormContainer">
                                  <h2 class="text-center mb-4">@mr.agentname Chain Due Collection</h2>

                                 
                                  @*}*@
                              </div>

                              <!-- Display Results -->
                              @foreach (var item in Model)
                              {
                                  <div class="index_body mt-5">
                                      <div class="table-container">
                                          <div class="header-row">Chain Due Collection Table</div>

                                          <table>

                                              @if (a == 0)
                                              {
                                                  <thead>

                                                      <tr style="text-align: center;">
                                                          <th colspan="3">@mr.branchname Name:@item.branchname</th>

                                                          <th colspan="3"><b>@mr.agentname Chain Due Collection</b></th>
                                                          <th colspan="4"><b>Dated:@Convert.ToDateTime(DateTime.Now.Date).ToString("dd/MM/yyyy") </b></th>
                                                      </tr>
                                                      <tr style="text-align: center;">
                                                          <th colspan="5">@mr.agentname Id:@item.brokercode</th>
                                                          <th colspan="5">@mr.agentname Name:@item.brokername</th>

                                                      </tr>

                                                      <tr>
                                                          <th style="width: 5%; text-align: center;">
                                                              <label><b>S.N.</b></label>
                                                          </th>
                                                          <th style="width: 10%; text-align: center;">
                                                              <label><b>@mr.agentname Id</b></label>
                                                          </th>
                                                          <th style="width: 10%; text-align: center;">
                                                              <label><b>@mr.agentname Name</b></label>
                                                          </th>
                                                          <th style="width: 10%; text-align: center;">
                                                              <label><b>@mr.custname Id</b></label>
                                                          </th>

                                                          <th style="width: 10%; text-align: center;">
                                                              <label><b>@mr.custname Name</b></label>
                                                          </th>

                                                          <th style="width: 10%; text-align: center;">
                                                              <label><b>Amount</b></label>
                                                          </th>

                                                          <th style="width: 10%; text-align: center;">
                                                              <label><b>@mr.planname Name</b></label>
                                                          </th>

                                                          <th style="width: 5%; text-align: center;">
                                                              <label><b>Term </b></label>
                                                          </th>
                                                          <th style="width: 7%; text-align: center;">
                                                              <label id="email"><b>Mode</b></label>
                                                          </th>



                                                          <th style="width: 10%; text-align: center;">
                                                              <label><b>Maturity Date</b></label>
                                                          </th>


                                                      </tr>
                                                  </thead>
                                              }
                                             
                                              <tbody>

                                                  <tr style="text-align: center;">
                                                      <td>
                                                          @(++a)
                                                      </td>
                                                      <td>
                                                          @Html.DisplayFor(modelItem => item.newagentid)
                                                      </td>

                                                      <td>
                                                          @Html.DisplayFor(modelItem => item.name)
                                                      </td>
                                                      <td>
                                                          @Html.DisplayFor(modelItem => item.newbondid)
                                                      </td>

                                                      <td>
                                                          @Html.DisplayFor(modelItem => item.cname)
                                                      </td>
                                                      @*  <td>
                                     @Html.DisplayFor(modelItem => item.mobileno)
                                    </td>*@
                                                      <td>
                                                          @Html.DisplayFor(modelItem => item.amount)
                                                      </td>

                                                      <td>
                                                          @Html.DisplayFor(modelItem => item.planname)
                                                      </td>

                                                      <td>
                                                          @Html.DisplayFor(modelItem => item.term)
                                                      </td>
                                                      <td>
                                                          @Html.DisplayFor(modelItem => item.mode)
                                                      </td>

                                                      <td>
                                                          @Convert.ToDateTime(item.expirydate).ToString("dd/MM/yyyy")
                                                      </td>

                                                  </tr>

                                              </tbody>

                                          </table>
                                      </div>
                                  </div>

                              }

                          </div>
                      </div>










