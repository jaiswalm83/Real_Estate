@model IEnumerable<ODHDEVELOPERS.Models.BrokerChain>

    @using ODHDEVELOPERS.Models;
    @{
        Layout = "~/Views/Shared/_AgentLayout.cshtml";
        ViewBag.Title = "BrokerChain";
        UsersContext db = new UsersContext();
        var mr = db.Members.Single(m => m.Id == 1);
        var a = 0;

    }

    <script src="~/Scripts/print.js" type="text/javascript"></script>
    <div class="page-content">
        <!-- Print Button -->

        @if (mr != null)
        {
            <div class="d-flex justify-content-between align-items-center mt-3 mb-4">
                <button class="btn btn-primary px-4 py-2" onclick="PrintMe('divid')">
                    <i class="fas fa-print"></i> Get PDF Report
                </button>
                <div>

                </div>
            </div>


            //Genarate pdf Report by using crystal Report 
            <!--<div class="d-flex justify-content-between align-items-center mt-3 mb-4">-->
                <!-- Print Button -->
                <!--<a href="@Url.Action("PrintBrokerChainReport")" target="_blank" class="btn btn-primary px-4 py-2">
                    <i class="fas fa-print"></i> Get Report In PDF
                </a>
            </div>-->


        }


        <!-- Display Table -->


        <div class="index_body mt-5" id="divid">
            <div class="table-container">
                <div class="header-row">@mr.agentname Chain List</div>
                <table>
                    <thead>
                        <tr>

                            <th colspan="3"><b>@mr.agentname Chain List</b></th>
                            <th colspan="3"><b>Date:@Convert.ToDateTime(DateTime.Now.Date).ToString("dd/MM/yyyy")</b></th>
                        </tr>
                        <tr>
                            <th style="width: 5%;">
                                <label id="sn"><b>S.N.</b></label>
                            </th>
                            <th style="width: 20%;">
                                <label id="NewAgentId"><b>@mr.agentname Id</b></label>
                            </th>

                            <th style="width: 20%;">
                                <label id="name"><b>@mr.agentname Name</b></label>
                            </th>
                            <th style="width: 20%;">
                                <label id=""><b>@mr.rankname</b></label>
                            </th>

                            <th style="width: 20%;">
                                <label id=""><b>IntroducerId</b></label>
                            </th>

                            <th style="width: 15%;">
                                <label id=""><b>Introducer Name</b></label>
                            </th>

                        </tr>

                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            a++;
                            <tr>
                                <td>
                                    @a
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.newagentid)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.name)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.rankname)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.introducerid)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.introname)
                                </td>

                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>


    </div>







